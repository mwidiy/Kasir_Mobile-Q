<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dapur QuackXel Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- RESET & VARIABLES --- */
        :root {
            --header-bg: #1f2937;
            --card-header-bg: #1e3a8a;
            --bg-body: #f3f4f6;
            --white: #ffffff;
            --text-main: #1f2937;
            --text-muted: #6b7280;
            
            /* Status Colors */
            --badge-yellow: #fde047;
            --badge-text: #854d0e;
            --btn-red: #ef4444;
            --btn-green: #22c55e;
            --btn-dark: #374151;
            
            /* Banner Colors */
            --banner-orange-bg: #ffedd5;
            --banner-orange-text: #c2410c;
            --banner-blue-bg: #dbeafe;
            --banner-blue-text: #1d4ed8;
            --banner-green-bg: #dcfce7;
            --banner-green-text: #15803d;
            
            /* Qty Badge */
            --qty-bg: #fef08a;
            --qty-text: #854d0e;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: #fff;
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            justify-content: center;
        }

        /* --- MOBILE CONTAINER --- */
        .app-container {
            width: 100%;
            max-width: 480px;
            background: var(--bg-body);
            min-height: 100vh;
            position: relative;
            padding-bottom: 100px; /* Ruang ekstra untuk Floating Nav */
            display: flex;
            flex-direction: column;
        }

        /* --- TOP HEADER --- */
        .top-header {
            background-color: var(--header-bg);
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            position: sticky;
            top: 0;
            z-index: 50;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-icon { color: var(--badge-yellow); }

        .brand-text h1 {
            font-size: 16px; font-weight: 700; line-height: 1.2;
        }

        .brand-text p {
            font-size: 11px; color: #9ca3af; font-weight: 400;
        }

        .avatar {
            width: 36px; height: 36px; background-color: #ffe4e6;
            border-radius: 50%; overflow: hidden;
            border: 2px solid rgba(255,255,255,0.2);
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; position: relative;
        }
        
        .avatar img { width: 100%; height: 100%; object-fit: cover; }

        /* --- PROFILE DROPDOWN --- */
        .profile-dropdown {
            position: absolute; top: 65px; right: 20px;
            background: white; width: 220px; border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 16px; z-index: 60; display: none;
            border: 1px solid #e5e7eb; animation: slideDown 0.2s ease-out;
            text-align: left; color: var(--text-main);
        }

        .profile-dropdown.active { display: block; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        .dropdown-header h3 { font-size: 16px; font-weight: 700; color: var(--text-main); margin: 0; }
        .dropdown-header p { font-size: 14px; color: var(--text-muted); margin-top: 4px; }
        .dropdown-divider { height: 1px; background-color: #e5e7eb; margin: 12px 0; }
        .logout-link { display: flex; align-items: center; gap: 8px; color: var(--btn-red); font-weight: 500; font-size: 14px; text-decoration: none; cursor: pointer; padding: 4px 0; }

        /* --- CONTENT AREA --- */
        .content {
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        /* --- SEARCH & FILTER --- */
        .search-filter-section {
            display: flex; flex-direction: column; gap: 12px; margin-bottom: 4px;
        }

        .search-box { position: relative; width: 100%; }
        .search-box input {
            width: 100%; padding: 12px 16px 12px 44px; border-radius: 12px;
            border: 1px solid transparent; background-color: white;
            font-size: 14px; color: var(--text-main);
            box-shadow: 0 1px 2px rgba(0,0,0,0.05); outline: none; transition: all 0.2s;
        }
        .search-box input:focus { border-color: var(--card-header-bg); box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1); }
        .search-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: #9ca3af; width: 18px; height: 18px; }

        /* Filter Chips */
        .filter-container {
            display: flex; gap: 8px; overflow-x: auto; padding-bottom: 4px;
            -ms-overflow-style: none; scrollbar-width: none;
        }
        .filter-container::-webkit-scrollbar { display: none; }

        .filter-chip {
            padding: 8px 16px; border-radius: 50px; font-size: 12px; font-weight: 600;
            background-color: white; color: var(--text-muted); border: 1px solid #e5e7eb;
            white-space: nowrap; cursor: pointer; transition: all 0.2s;
        }
        .filter-chip.active {
            background-color: var(--header-bg); color: white; border-color: var(--header-bg);
            box-shadow: 0 2px 4px rgba(31, 41, 55, 0.2);
        }
        .filter-chip:active { transform: scale(0.95); }

        /* --- CARD COMPONENT --- */
        .card {
            background: var(--white); border-radius: 16px; overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); transition: transform 0.2s;
        }

        .card-header {
            background-color: var(--card-header-bg); padding: 14px 16px;
            display: flex; justify-content: space-between; align-items: flex-start;
            color: white; position: relative;
        }
        .card-header::after {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(to bottom, rgba(255,255,255,0.05), transparent); pointer-events: none;
        }

        .header-left { display: flex; flex-direction: column; gap: 4px; z-index: 1; }
        .table-title { font-size: 16px; font-weight: 700; }
        .sub-status { font-size: 12px; display: flex; align-items: center; gap: 6px; color: rgba(255,255,255,0.9); }
        
        .badge { font-size: 11px; padding: 4px 12px; border-radius: 20px; font-weight: 600; z-index: 1; }
        .badge-new { background-color: var(--badge-yellow); color: var(--text-main); }
        .badge-process { background-color: transparent; border: 1px solid rgba(255,255,255,0.6); color: white; }

        .card-body { padding: 16px; }

        /* Banners */
        .banner {
            padding: 12px 14px; border-radius: 8px; font-size: 13px; font-weight: 700;
            margin-bottom: 20px; display: flex; align-items: center; gap: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .banner-orange { background-color: var(--banner-orange-bg); color: var(--banner-orange-text); border: 1px solid #fed7aa; }
        .banner-blue { background-color: var(--banner-blue-bg); color: var(--banner-blue-text); border: 1px solid #bfdbfe; }
        .banner-green { background-color: var(--banner-green-bg); color: var(--banner-green-text); border: 1px solid #bbf7d0; }

        .item-list { display: flex; flex-direction: column; gap: 16px; margin-bottom: 20px; }
        .item { display: flex; gap: 12px; align-items: flex-start; }
        
        .qty-badge {
            background-color: var(--qty-bg); color: var(--qty-text); width: 28px; height: 28px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 12px; font-weight: 700; flex-shrink: 0;
        }

        .item-detail h4 { font-size: 14px; font-weight: 600; color: var(--text-main); margin-bottom: 2px; line-height: 1.3; }
        .item-detail p { font-size: 11px; color: var(--text-muted); line-height: 1.4; }

        .info-box {
            padding: 12px; border-radius: 8px; font-size: 12px; line-height: 1.5;
            margin-bottom: 20px; display: flex; gap: 8px; align-items: flex-start;
        }
        .info-box-note { background-color: #fff7ed; color: #9a3412; border: 1px solid #ffedd5; }
        .info-box-address { background-color: #eff6ff; color: #1e40af; border: 1px solid #dbeafe; }
        .info-icon { flex-shrink: 0; margin-top: 2px; }

        .btn-group { display: flex; gap: 12px; }
        .btn {
            flex: 1; padding: 12px; border: none; border-radius: 8px; font-size: 14px;
            font-weight: 600; color: white; cursor: pointer; display: flex;
            align-items: center; justify-content: center; gap: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: opacity 0.2s;
        }
        .btn:active { opacity: 0.9; }
        .btn-red { background-color: var(--btn-red); }
        .btn-green { background-color: var(--btn-green); }
        .btn-dark { background-color: var(--btn-dark); }

        /* --- MODAL POPUP --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0,0,0,0.5); z-index: 1000;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s; padding: 20px;
        }
        .modal-overlay.active { opacity: 1; pointer-events: auto; }

        .modal-box {
            background: white; width: 100%; max-width: 320px; border-radius: 20px;
            padding: 30px 24px; text-align: center; transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .modal-overlay.active .modal-box { transform: scale(1); }

        .modal-icon { width: 64px; height: 64px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; }
        .icon-accept { background-color: #1f2937; color: white; }
        .icon-finish { background-color: #1f2937; color: white; }
        .icon-reject { background-color: #fee2e2; color: #ef4444; }

        .modal-title { font-size: 18px; font-weight: 700; color: #1f2937; margin-bottom: 12px; }
        .modal-desc { font-size: 13px; color: #6b7280; margin-bottom: 24px; line-height: 1.5; }
        .modal-actions { display: flex; gap: 12px; }
        .modal-btn { flex: 1; padding: 12px; border-radius: 10px; font-size: 14px; font-weight: 600; cursor: pointer; border: 1px solid transparent; }
        .modal-btn-cancel { background: white; border: 1px solid #d1d5db; color: #374151; }
        .modal-btn-yellow { background-color: #fde047; color: #854d0e; }
        .modal-btn-red { background-color: #ef4444; color: white; }

        /* --- BOTTOM NAV (REFINED & PROPORTIONAL) --- */
        .bottom-nav {
            position: fixed; 
            bottom: 0; 
            width: 100%; 
            max-width: 480px;
            background: white; 
            border-top: 1px solid #e5e7eb;
            display: grid; 
            grid-template-columns: repeat(5, 1fr);
            /* FIXED HEIGHT & PADDING - KUNCI PROPORSIONALITAS */
            height: 80px; 
            padding-bottom: 10px; 
            align-items: flex-end; /* Align items to bottom */
            z-index: 100;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.03);
        }

        .nav-item {
            display: flex; 
            flex-direction: column; 
            align-items: center;
            justify-content: center; 
            gap: 5px; 
            color: #9ca3af;
            cursor: pointer; 
            height: 60px; /* Fixed height for click area */
            padding-bottom: 8px;
            transition: all 0.2s;
            position: relative;
        }
        .nav-item:active { transform: scale(0.95); }
        
        .nav-item.active { color: var(--text-main); }
        .nav-item.active .nav-text { font-weight: 600; }
        
        .nav-icon { width: 24px; height: 24px; stroke-width: 2; transition: stroke 0.2s; }
        .nav-text { font-size: 10px; font-weight: 500; letter-spacing: 0.3px; }

        /* PROMINENT MIDDLE BUTTON (BAYAR) - ABSOLUTE FLOATING */
        .nav-item.middle {
            /* Make container static relative to grid, but content absolute */
            justify-content: flex-end; 
        }
        
        .nav-item.middle .icon-box {
            width: 56px; height: 56px; 
            /* Gradient Modern Dark */
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
            border-radius: 50%; display: flex; align-items: center;
            justify-content: center; color: white;
            /* Soft Shadow & White Border */
            box-shadow: 0 8px 20px rgba(31, 41, 55, 0.3);
            border: 4px solid white; 
            
            /* Absolute Positioning to Float */
            position: absolute;
            top: -28px; /* Floating offset */
            left: 50%;
            transform: translateX(-50%);
            transition: transform 0.2s;
        }
        
        .nav-item.middle:active .icon-box { transform: translateX(-50%) scale(0.95); }
        
        .nav-item.middle .nav-icon { width: 24px; height: 24px; stroke-width: 2; }
        
        /* Text stays in flow at bottom */
        .nav-item.middle .nav-text { 
            color: var(--text-main); font-weight: 600;
            margin-top: 0; /* Reset margin */
        }

    </style>
</head>
<body>

    <div class="app-container">
        
        <header class="top-header">
            <div class="brand">
                <svg class="brand-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path><path d="M7 2v20"></path><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"></path>
                </svg>
                <div class="brand-text">
                    <h1>Dapur QuackXel</h1>
                    <p>Pesanan Masuk</p>
                </div>
            </div>
            
            <div class="avatar" onclick="toggleProfile(event)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="#1f2937"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
            </div>

            <div id="profileDropdown" class="profile-dropdown">
                <div class="dropdown-header">
                    <h3>Warung Oyan</h3>
                    <p>oyan@gmail.com</p>
                </div>
                <div class="dropdown-divider"></div>
                <a href="#" class="logout-link">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                    Logout
                </a>
            </div>
        </header>

        <main class="content">

            <!-- SEARCH & FILTER -->
            <div class="search-filter-section">
                <div class="search-box">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                    <!-- Functional Search Input -->
                    <input type="text" id="searchInput" placeholder="Cari Nomor Meja, Menu..." onkeyup="performSearch()">
                </div>

                <!-- Functional Filter Tabs -->
                <div class="filter-container">
                    <button class="filter-chip active" onclick="activateFilter(this, 'all')">Semua</button>
                    <button class="filter-chip" onclick="activateFilter(this, 'baru')">Baru</button>
                    <button class="filter-chip" onclick="activateFilter(this, 'diproses')">Diproses</button>
                    <button class="filter-chip" onclick="activateFilter(this, 'selesai')">Selesai</button>
                </div>
            </div>

            <!-- CARD 1: Status BARU -->
            <div class="card" data-status="baru">
                <div class="card-header">
                    <div class="header-left">
                        <span class="table-title">Meja 03</span>
                    </div>
                    <span class="badge badge-new">Baru</span>
                </div>
                <div class="card-body">
                    <div class="banner banner-orange">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 1 6 6v7H6V9a6 6 0 0 1 6-6Z"></path><path d="M3 15h18v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Z"></path></svg>
                        Bungkus / Takeaway
                    </div>

                    <div class="item-list">
                        <div class="item">
                            <div class="qty-badge">2x</div>
                            <div class="item-detail">
                                <h4>Nasi Goreng Spesial</h4>
                                <p>+ Telur Mata Sapi, Kerupuk</p>
                            </div>
                        </div>
                        <div class="item">
                            <div class="qty-badge">1x</div>
                            <div class="item-detail">
                                <h4>Es Teh Manis</h4>
                                <p>Gula Normal</p>
                            </div>
                        </div>
                    </div>

                    <div class="info-box info-box-note">
                        <svg class="info-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                        <span><strong>Catatan:</strong> Tolong pisahkan sambel dan kerupuk</span>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-red" onclick="openModal('reject')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                            Tolak
                        </button>
                        <button class="btn btn-green" onclick="openModal('accept')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            Terima
                        </button>
                    </div>
                </div>
            </div>

            <!-- CARD 2: Status DIPROSES -->
            <div class="card" data-status="diproses">
                <div class="card-header">
                    <div class="header-left">
                        <span class="table-title">R. Dosen (Gedung B)</span>
                    </div>
                    <span class="badge badge-process">Diproses</span>
                </div>
                <div class="card-body">
                    <div class="banner banner-blue">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="18.5" cy="17.5" r="3.5"></circle><circle cx="5.5" cy="17.5" r="3.5"></circle><circle cx="15" cy="5" r="1"></circle><path d="M12 17.5V14l-3-3 4-3 2 3h2"></path></svg>
                        Delivery / Antar
                    </div>

                    <div class="item-list">
                        <div class="item">
                            <div class="qty-badge">3x</div>
                            <div class="item-detail">
                                <h4>Paket Nasi Uduk</h4>
                                <p>Komplit dengan Lauk</p>
                            </div>
                        </div>
                        <div class="item">
                            <div class="qty-badge">2x</div>
                            <div class="item-detail">
                                <h4>Jus Alpukat</h4>
                                <p>Tanpa Gula</p>
                            </div>
                        </div>
                    </div>

                    <div class="info-box info-box-address">
                        <svg class="info-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                        <span><strong>Alamat:</strong> Ruang Dosen Lt.2, Gedung B, Kampus Utara</span>
                    </div>

                    <button class="btn btn-dark" onclick="openModal('finish')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
                        Selesai / Antar
                    </button>
                </div>
            </div>

            <!-- CARD 3: Status BARU -->
            <div class="card" data-status="baru">
                <div class="card-header">
                    <div class="header-left">
                        <span class="table-title">Meja 05</span>
                    </div>
                    <span class="badge badge-new">Baru</span>
                </div>
                <div class="card-body">
                    <div class="banner banner-green">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path><path d="M7 2v20"></path><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"></path></svg>
                        Makan di Tempat
                    </div>

                    <div class="item-list">
                        <div class="item">
                            <div class="qty-badge">1x</div>
                            <div class="item-detail">
                                <h4>Mie Goreng Seafood</h4>
                                <p>Level 3 (Pedas)</p>
                            </div>
                        </div>
                        <div class="item">
                            <div class="qty-badge">1x</div>
                            <div class="item-detail">
                                <h4>Soto Ayam Kampung</h4>
                                <p>+ Nasi Putih</p>
                            </div>
                        </div>
                    </div>

                    <div class="btn-group">
                         <button class="btn btn-red" onclick="openModal('reject')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                            Tolak
                        </button>
                         <button class="btn btn-green" onclick="openModal('accept')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            Terima
                        </button>
                    </div>
                </div>
            </div>

        </main>

        <!-- UPDATED BOTTOM NAV (PREMIUM) -->
        <nav class="bottom-nav">
            <!-- Active Dasbor -->
            <div class="nav-item active" onclick="location.href='dasboard.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="9"></rect><rect x="14" y="3" width="7" height="5"></rect><rect x="14" y="12" width="7" height="9"></rect><rect x="3" y="16" width="7" height="5"></rect></svg>
                <span class="nav-text">Dasbor</span>
            </div>
            
            <!-- Riwayat (Clipboard List Icon) -->
            <div class="nav-item" onclick="location.href='riwayat.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                <span class="nav-text">Riwayat</span>
            </div>

            <!-- Prominent Bayar Button (Scan Icon) -->
            <div class="nav-item middle" onclick="location.href='bayar.html'">
                <div class="icon-box">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 7V5a2 2 0 0 1 2-2h2"></path>
                        <path d="M17 3h2a2 2 0 0 1 2 2v2"></path>
                        <path d="M21 17v2a2 2 0 0 1-2 2h-2"></path>
                        <path d="M7 21H5a2 2 0 0 1-2-2v-2"></path>
                        <line x1="5" y1="12" x2="19" y2="12"></line> <!-- Garis Laser -->
                    </svg>
                </div>
                <span class="nav-text">Bayar</span>
            </div>

            <!-- Menu -->
            <div class="nav-item" onclick="location.href='menu.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path><path d="M7 2v20"></path><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"></path><path d="M17 2v20"></path></svg>
                <span class="nav-text">Menu</span>
            </div>

            <!-- Meja -->
            <div class="nav-item" onclick="location.href='qr.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
                <span class="nav-text">Meja</span>
            </div>
        </nav>

        <!-- MODAL POPUPS (Existing) -->
        <div id="modal-accept" class="modal-overlay">
            <div class="modal-box">
                <div class="modal-icon icon-accept">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg>
                </div>
                <h3 class="modal-title">Konfirmasi Pesanan?</h3>
                <p class="modal-desc">Anda yakin ingin memindahkan pesanan untuk Meja ini ke status 'Sedang Disiapkan'?</p>
                <div class="modal-actions">
                    <button class="modal-btn modal-btn-cancel" onclick="closeModal('accept')">Batal</button>
                    <button class="modal-btn modal-btn-yellow" onclick="closeModal('accept')">Ya, Selesaikan</button>
                </div>
            </div>
        </div>

        <div id="modal-finish" class="modal-overlay">
            <div class="modal-box">
                <div class="modal-icon icon-finish">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                </div>
                <h3 class="modal-title">Tandai Pesanan Selesai?</h3>
                <p class="modal-desc">Anda yakin ingin memindahkan pesanan untuk Meja ini ke status 'Selesai'?</p>
                <div class="modal-actions">
                    <button class="modal-btn modal-btn-cancel" onclick="closeModal('finish')">Batal</button>
                    <button class="modal-btn modal-btn-yellow" onclick="closeModal('finish')">Ya, Selesaikan</button>
                </div>
            </div>
        </div>

        <div id="modal-reject" class="modal-overlay">
            <div class="modal-box">
                <div class="modal-icon icon-reject">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>
                </div>
                <h3 class="modal-title">Tolak Pesanan?</h3>
                <p class="modal-desc">Tindakan ini tidak dapat dibatalkan. Pesanan akan dihapus dari daftar.</p>
                <div class="modal-actions">
                    <button class="modal-btn modal-btn-cancel" onclick="closeModal('reject')">Batal</button>
                    <button class="modal-btn modal-btn-red" onclick="closeModal('reject')">Tolak Pesanan</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // 1. Toggle Profile Menu
        function toggleProfile(event) {
            event.stopPropagation();
            const dropdown = document.getElementById('profileDropdown');
            dropdown.classList.toggle('active');
        }

        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('profileDropdown');
            const avatar = document.querySelector('.avatar');
            if (!dropdown.contains(event.target) && !avatar.contains(event.target)) {
                dropdown.classList.remove('active');
            }
        });

        // 2. Modal Logic
        function openModal(type) {
            const modal = document.getElementById('modal-' + type);
            if (modal) modal.classList.add('active');
        }

        function closeModal(type) {
            const modal = document.getElementById('modal-' + type);
            if (modal) modal.classList.remove('active');
        }

        // 3. FILTER LOGIC (Functional)
        function activateFilter(element, status) {
            // Update UI State
            const buttons = document.querySelectorAll('.filter-chip');
            buttons.forEach(btn => btn.classList.remove('active'));
            element.classList.add('active');

            // Filter Cards
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                const cardStatus = card.getAttribute('data-status');
                if (status === 'all' || cardStatus === status) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // 4. SEARCH LOGIC (Functional)
        function performSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.card');

            cards.forEach(card => {
                // Search in title and items
                const title = card.querySelector('.table-title').innerText.toLowerCase();
                const items = card.querySelector('.item-list').innerText.toLowerCase();
                
                if (title.includes(query) || items.includes(query)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
    </script>

</body>
</html>